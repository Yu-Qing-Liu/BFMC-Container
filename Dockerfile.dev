FROM ad-acados:latest

WORKDIR /root

ENV DEBIAN_FRONTEND=noninteractive

ENV QT_DEBUG_PLUGINS=1
ENV QT_QPA_PLATFORM=xcb

SHELL ["/bin/bash", "-c"]

################################
# Extra dependencies
################################
RUN apt-get update && apt-get install -y \
    nlohmann-json3-dev \
    libncurses5-dev \
    libncursesw5-dev \
    software-properties-common \
    lua5.1 \
    luarocks

RUN pip uninstall -y PyQt5 && \
    apt-get install -y python3-pyqt5

RUN add-apt-repository ppa:neovim-ppa/unstable && \
    apt-get update && \
    apt-get install -y neovim
